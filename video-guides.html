<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Tutorials - Society Arts</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://pub-acb560f551f141db830964aed1fa005f.r2.dev/site-assets/SA_Monogram_Black%401x%201x1.png">
  
  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Fonts - Familjen Grotesk + Domine -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Domine:wght@400;500;600;700&family=Familjen+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- CSS -->
  <link rel="stylesheet" href="/css/variables.css">
  <link rel="stylesheet" href="/css/base.css">
  <link rel="stylesheet" href="/css/components.css">
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/auth.css">
  <link rel="stylesheet" href="/css/help-modals.css">
  
  <style>
    .tutorials-content {
      flex: 1;
      padding: var(--space-2xl);
      overflow-y: auto;
    }
    
    .tutorials-header {
      margin-bottom: var(--space-2xl);
      max-width: 800px;
    }
    
    .tutorials-breadcrumb {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-size: var(--text-sm);
      color: var(--color-text-muted);
      margin-bottom: var(--space-md);
    }
    
    .tutorials-breadcrumb a {
      color: var(--color-text-muted);
      text-decoration: none;
      transition: color 0.2s;
    }
    
    .tutorials-breadcrumb a:hover {
      color: var(--color-accent);
    }
    
    .tutorials-title {
      font-family: var(--font-serif);
      font-size: var(--text-3xl);
      font-weight: var(--weight-medium);
      color: var(--color-text-primary);
      margin-bottom: var(--space-sm);
    }
    
    .tutorials-subtitle {
      font-size: var(--text-base);
      color: var(--color-text-muted);
      line-height: var(--leading-relaxed);
    }
    
    /* Featured Video */
    .featured-video {
      background: white;
      border-radius: var(--radius-xl);
      border: 1px solid var(--color-border-light);
      overflow: hidden;
      margin-bottom: var(--space-2xl);
      max-width: 1000px;
    }
    
    .featured-video-player {
      position: relative;
      width: 100%;
      aspect-ratio: 16/9;
      background: #000;
    }
    
    .featured-video-player iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .featured-video-info {
      padding: var(--space-xl);
    }
    
    .featured-badge {
      display: inline-block;
      padding: 4px 10px;
      background: var(--color-accent);
      color: white;
      font-size: 11px;
      font-weight: var(--weight-semibold);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-radius: var(--radius-sm);
      margin-bottom: var(--space-md);
    }
    
    .featured-video-title {
      font-family: var(--font-serif);
      font-size: var(--text-xl);
      font-weight: var(--weight-semibold);
      color: var(--color-text-primary);
      margin-bottom: var(--space-sm);
    }
    
    .featured-video-desc {
      font-size: var(--text-base);
      color: var(--color-text-muted);
      line-height: var(--leading-relaxed);
    }
    
    /* Video Grid */
    .tutorials-section-title {
      font-family: var(--font-serif);
      font-size: var(--text-lg);
      font-weight: var(--weight-semibold);
      color: var(--color-text-primary);
      margin-bottom: var(--space-lg);
    }
    
    .tutorials-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: var(--space-xl);
      max-width: 1000px;
    }
    
    .tutorial-card {
      background: white;
      border-radius: var(--radius-lg);
      border: 1px solid var(--color-border-light);
      overflow: hidden;
      transition: all 0.2s ease;
      cursor: pointer;
    }
    
    .tutorial-card:hover {
      border-color: var(--color-border-dark);
      box-shadow: 0 4px 12px rgba(62, 35, 24, 0.08);
      transform: translateY(-2px);
    }
    
    .tutorial-thumbnail {
      position: relative;
      width: 100%;
      aspect-ratio: 16/9;
      background: var(--color-tan-10);
      overflow: hidden;
    }
    
    .tutorial-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .tutorial-play-btn {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      transition: all 0.2s ease;
    }
    
    .tutorial-card:hover .tutorial-play-btn {
      transform: translate(-50%, -50%) scale(1.1);
      background: var(--color-accent);
      color: white;
    }
    
    .tutorial-play-btn svg {
      width: 24px;
      height: 24px;
      margin-left: 3px;
      color: var(--color-accent);
    }
    
    .tutorial-card:hover .tutorial-play-btn svg {
      color: white;
    }
    
    .tutorial-duration {
      position: absolute;
      bottom: var(--space-sm);
      right: var(--space-sm);
      padding: 4px 8px;
      background: rgba(0, 0, 0, 0.75);
      color: white;
      font-size: 12px;
      font-weight: var(--weight-medium);
      border-radius: var(--radius-sm);
    }
    
    .tutorial-info {
      padding: var(--space-lg);
    }
    
    .tutorial-number {
      font-size: var(--text-xs);
      font-weight: var(--weight-semibold);
      color: var(--color-accent);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: var(--space-xs);
    }
    
    .tutorial-title {
      font-family: var(--font-serif);
      font-size: var(--text-base);
      font-weight: var(--weight-semibold);
      color: var(--color-text-primary);
      margin-bottom: var(--space-sm);
      line-height: var(--leading-snug);
    }
    
    .tutorial-desc {
      font-size: var(--text-sm);
      color: var(--color-text-muted);
      line-height: var(--leading-relaxed);
    }
    
    /* Video Modal */
    .video-modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: var(--space-xl);
    }
    
    .video-modal {
      width: 100%;
      max-width: 1000px;
      background: white;
      border-radius: var(--radius-xl);
      overflow: hidden;
    }
    
    .video-modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-md) var(--space-lg);
      border-bottom: 1px solid var(--color-border-light);
    }
    
    .video-modal-title {
      font-family: var(--font-serif);
      font-size: var(--text-lg);
      font-weight: var(--weight-semibold);
      color: var(--color-text-primary);
    }
    
    .video-modal-close {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: none;
      background: var(--color-tan-10);
      color: var(--color-text-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .video-modal-close:hover {
      background: var(--color-tan-20);
      color: var(--color-text-primary);
    }
    
    .video-modal-player {
      width: 100%;
      aspect-ratio: 16/9;
      background: #000;
    }
    
    .video-modal-player iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    @media (max-width: 768px) {
      .tutorials-grid {
        grid-template-columns: 1fr;
      }
      
      .featured-video-info {
        padding: var(--space-lg);
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
 <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/js/shared/supabase-client.js"></script>
  <script src="/js/shared/api.js"></script>
  <script src="/js/shared/auth.js"></script>
  <script src="/js/shared/header.js"></script>
  
  <!-- Tutorials App -->
  <script type="text/babel">
    const { useState } = React;

    // Tutorial data
    const TUTORIALS = [
      {
        id: 1,
        title: "Getting Started with Society Arts",
        description: "A complete introduction to Society Arts, from creating your account to generating your first piece of art.",
        videoId: "7u4OmlDVCd4",
        duration: "8:24",
        featured: true
      },
      {
        id: 2,
        title: "Using the Style Finder",
        description: "Learn how to browse, search, and select artistic styles that match your vision.",
        videoId: "arNqSo5zFhM",
        duration: "5:17"
      },
      {
        id: 3,
        title: "Crafting Your Story",
        description: "Tips for writing compelling story descriptions that translate beautifully into artwork.",
        videoId: "TdQ24hqLVhQ",
        duration: "6:42"
      },
      {
        id: 4,
        title: "Using Voice Mode",
        description: "How to use voice input to naturally describe your ideas and create art hands-free.",
        videoId: "U7uuxBjKkCQ",
        duration: "4:33"
      },
      {
        id: 5,
        title: "Transform Your Story",
        description: "Master the Optimize, Enrich, Simplify, and No People transformations for better results.",
        videoId: "olLCI8zXewc",
        duration: "7:15"
      },
      {
        id: 6,
        title: "Working with Projects",
        description: "Save, organize, and manage your creative projects for easy access later.",
        videoId: "iWqyokscZRc",
        duration: "5:58"
      },
      {
        id: 7,
        title: "Aspect Ratios & Formats",
        description: "Choosing the right dimensions for prints, social media, and different display purposes.",
        videoId: "7u4OmlDVCd4",
        duration: "4:12"
      },
      {
        id: 8,
        title: "Favorites & Collections",
        description: "Build your personal library of favorite styles and organize them into collections.",
        videoId: "arNqSo5zFhM",
        duration: "3:45"
      },
      {
        id: 9,
        title: "Advanced Style Mixing",
        description: "Combine multiple styles to create unique hybrid aesthetics for your artwork.",
        videoId: "TdQ24hqLVhQ",
        duration: "9:21"
      },
      {
        id: 10,
        title: "Printing & Framing Guide",
        description: "Everything you need to know about ordering prints and choosing the right frames.",
        videoId: "U7uuxBjKkCQ",
        duration: "6:08"
      }
    ];

    function TutorialsPage() {
      const { Header, Sidebar, Icons } = window.SocietyArts || {};
      
      if (!Sidebar || !Header) {
        return React.createElement('div', { className: 'loading-state' }, 'Loading...');
      }
      
      const { user, profile, isLoading: authLoading } = window.SocietyArts.useAuth();
      const [selectedVideo, setSelectedVideo] = useState(null);
      
      const featuredTutorial = TUTORIALS.find(t => t.featured);
      const otherTutorials = TUTORIALS.filter(t => !t.featured);
      
      const getYouTubeThumbnail = (videoId) => {
        return `https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`;
      };
      
      const PlayIcon = () => (
        <svg viewBox="0 0 24 24" fill="currentColor">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
      );
      
      const CloseIcon = () => (
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      );
      
      const ChevronIcon = () => (
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      );

      return (
        <div className="page-container">
          <Sidebar />
          <Header user={user} profile={profile} />
          
          <main className="tutorials-content">
            {/* Breadcrumb */}
            <div className="tutorials-breadcrumb">
              <a href="index.html">Home</a>
              <ChevronIcon />
              <span>Video Tutorials</span>
            </div>
            
            {/* Header */}
            <div className="tutorials-header">
              <h1 className="tutorials-title">Video Tutorials</h1>
              <p className="tutorials-subtitle">
                Learn how to make the most of Society Arts with our step-by-step video guides. 
                From getting started to advanced techniques, we've got you covered.
              </p>
            </div>
            
            {/* Featured Video */}
            {featuredTutorial && (
              <div className="featured-video">
                <div className="featured-video-player">
                  <iframe 
                    src={`https://www.youtube.com/embed/${featuredTutorial.videoId}?rel=0`}
                    title={featuredTutorial.title}
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowFullScreen
                  ></iframe>
                </div>
                <div className="featured-video-info">
                  <span className="featured-badge">Start Here</span>
                  <h2 className="featured-video-title">{featuredTutorial.title}</h2>
                  <p className="featured-video-desc">{featuredTutorial.description}</p>
                </div>
              </div>
            )}
            
            {/* Tutorial Grid */}
            <h2 className="tutorials-section-title">More Tutorials</h2>
            <div className="tutorials-grid">
              {otherTutorials.map((tutorial, index) => (
                <div 
                  key={tutorial.id}
                  className="tutorial-card"
                  onClick={() => setSelectedVideo(tutorial)}
                >
                  <div className="tutorial-thumbnail">
                    <img 
                      src={getYouTubeThumbnail(tutorial.videoId)} 
                      alt={tutorial.title}
                      onError={(e) => {
                        e.target.src = `https://img.youtube.com/vi/${tutorial.videoId}/hqdefault.jpg`;
                      }}
                    />
                    <div className="tutorial-play-btn">
                      <PlayIcon />
                    </div>
                    <span className="tutorial-duration">{tutorial.duration}</span>
                  </div>
                  <div className="tutorial-info">
                    <div className="tutorial-number">Tutorial {tutorial.id}</div>
                    <h3 className="tutorial-title">{tutorial.title}</h3>
                    <p className="tutorial-desc">{tutorial.description}</p>
                  </div>
                </div>
              ))}
            </div>
          </main>
          
          {/* Video Modal */}
          {selectedVideo && (
            <div className="video-modal-overlay" onClick={() => setSelectedVideo(null)}>
              <div className="video-modal" onClick={e => e.stopPropagation()}>
                <div className="video-modal-header">
                  <h3 className="video-modal-title">{selectedVideo.title}</h3>
                  <button className="video-modal-close" onClick={() => setSelectedVideo(null)}>
                    <CloseIcon />
                  </button>
                </div>
                <div className="video-modal-player">
                  <iframe 
                    src={`https://www.youtube.com/embed/${selectedVideo.videoId}?autoplay=1&rel=0`}
                    title={selectedVideo.title}
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowFullScreen
                  ></iframe>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    
    function waitForComponents(callback, maxAttempts = 50) {
      let attempts = 0;
      const check = () => {
        attempts++;
        if (window.SocietyArts?.Sidebar && window.SocietyArts?.Header && window.SocietyArts?.useAuth) {
          callback();
        } else if (attempts < maxAttempts) {
          setTimeout(check, 100);
        } else {
          console.error('Components failed to load');
          callback();
        }
      };
      check();
    }
    
    waitForComponents(() => {
      root.render(<TutorialsPage />);
    });
  </script>
</body>
</html>
